(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const c of t.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function r(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function l(e){if(e.ep)return;e.ep=!0;const t=r(e);fetch(e.href,t)}})();const W=document.getElementById("prevButton"),D=document.getElementById("nextButton"),C=document.getElementById("marketPrice"),w=document.getElementById("caseImage"),A=document.getElementById("caseName"),K=document.getElementById("buyButton"),N=document.getElementById("prevButtonHigh"),R=document.getElementById("nextButtonHigh"),B=document.getElementById("marketPriceHigh"),P=document.getElementById("caseImageHigh"),b=document.getElementById("caseNameHigh"),U=document.getElementById("buyButtonHigh"),I=document.getElementById("spent-amount"),L=document.getElementById("net-gain-amount"),g=document.getElementById("open-screen"),h=document.getElementById("revealed-item"),f=document.getElementById("close-opening"),E=document.getElementById("item-name"),x=document.getElementById("item-value"),G=new Audio("/assets/open.mp3");let v=0,y=0,o=!1,S=0,d=0,i=0,s=0,p={};const m=["Kilowatt Case","Revolution Case","Fracture Case"],H={"Kilowatt Case":"/assets/cases/kilowatt.png","Revolution Case":"/assets/cases/revolution.png","Fracture Case":"/assets/cases/fracture.png"},u=["Operation Bravo Case","CS:GO Weapon Case","CS:GO Weapon Case 2","eSports 2013 Winter Case","eSports 2014 Summer Case"],O={"Operation Bravo Case":"/assets/cases/operation bravo.png","CS:GO Weapon Case":"/assets/cases/weapon.png","CS:GO Weapon Case 2":"/assets/cases/weapon2.png","eSports 2013 Winter Case":"/assets/cases/esports 2013 winter.png","eSports 2014 Summer Case":"/assets/cases/esports 2014 summer.png"},T=[{name:"Tec-9 | Slag",value:.18,rarity:"consumer"},{name:"XM1014 | Irezumi",value:.14,rarity:"consumer"},{name:"UMP-45 | Motorized",value:.14,rarity:"consumer"},{name:"SSG 08 | Dezastre",value:.15,rarity:"consumer"},{name:"Nova | Dark Sigil",value:.13,rarity:"consumer"},{name:"Dual Berettas | Hideout",value:.14,rarity:"consumer"},{name:"MAC-10 | Light Box",value:.23,rarity:"consumer"},{name:"MP7 | Just Smile",value:1.25,rarity:"mil-spec"},{name:"Five-SeveN | Hybrid",value:1.57,rarity:"mil-spec"},{name:"Sawed-Off | Analog Input",value:1.04,rarity:"mil-spec"},{name:"M4A4 | Etch lord",value:3.24,rarity:"restricted"},{name:"Glock-18 | Block-18",value:1.14,rarity:"mil-spec"},{name:"Zeus x27 | Olympus",value:8.21,rarity:"classified"},{name:"USP-S | Jawbreaker",value:13.15,rarity:"classified"},{name:"M4A1-S | Black Lotus",value:16.8,rarity:"classified"},{name:"AWP | Chrome Cannon",value:56.1,rarity:"covert"},{name:"AK-47 | Inheritance",value:181.13,rarity:"covert"},{name:"Kukri Knife | Fade",value:412.53,rarity:"contraband"}],q=[{name:"P250 | Re.built",value:.14,rarity:"mil-spec"},{name:"Tec-9 | Rebel",value:.14,rarity:"mil-spec"},{name:"MAG-7 | Insomnia",value:.15,rarity:"mil-spec"},{name:"SCAR-20 | Fragments",value:.14,rarity:"mil-spec"},{name:"MP5-SD | Liquidation",value:.16,rarity:"mil-spec"},{name:"MP9 | Featherweight",value:.14,rarity:"mil-spec"},{name:"SG 553 | Cyberforce",value:.15,rarity:"mil-spec"},{name:"R8 Revolver | Banana Cannon",value:.93,rarity:"restricted"},{name:"P90 | Neoqueen",value:.8,rarity:"restricted"},{name:"MAC-10 | Sakkaku",value:.22,rarity:"restricted"},{name:"Glock-18 | Umbral Rabbit",value:1.12,rarity:"restricted"},{name:"M4A1-S | Empthorosaur-S",value:4.35,rarity:"restricted"},{name:"P2000 | Wicked Sick",value:6.69,rarity:"classified"},{name:"UMP-45 | Wild Child",value:6.67,rarity:"classified"},{name:"AWP | Duality",value:9.18,rarity:"classified"},{name:"AK-47 | Headshot",value:51.53,rarity:"covert"},{name:"M4A1 | Temukau",value:63.04,rarity:"covert"},{name:"Glove | Vice",value:12521.42,rarity:"contraband"}],_={"Kilowatt Case":T,"Revolution Case":q},j=[{name:"MP7 | Skulls",value:15.08,rarity:"mil-spec"},{name:"SG 553 | Ultraviolet",value:34.45,rarity:"mil-spec"},{name:"AUG | Wings",value:13.54,rarity:"mil-spec"},{name:"Glock-18 | Dragon Tattoo",value:120,rarity:"restricted"},{name:"M4A1-S | Dark Water",value:90,rarity:"restricted"},{name:"USP-S | Dark Water",value:61.4,rarity:"restricted"},{name:"Desert Eagle | Hypnotic",value:98.24,rarity:"classified"},{name:"AK-47 | Case Hardened",value:370.99,rarity:"classified"},{name:"AWP | Lightning Strike",value:543.54,rarity:"covert"},{name:"Karambit | Fade",value:2045.65,rarity:"contraband"}],z=[{name:"MAG-7 | Memento",value:2.12,rarity:"mil-spec"},{name:"FAMAS | Dookitty",value:1.54,rarity:"mil-spec"},{name:"M4A4 | Faded Zebra",value:11.07,rarity:"mil-spec"},{name:"Sawed-Off | Orange DDPAT",value:32.54,rarity:"restricted"},{name:"P250 | Splash",value:22,rarity:"restricted"},{name:"Galil AR | Orange DDPAT",value:25.05,rarity:"restricted"},{name:"AK-47 | Red Laminate",value:325.14,rarity:"classified"},{name:"AWP | BOOM",value:350.45,rarity:"classified"},{name:"P90 | Death by Kitty",value:42.44,rarity:"covert"},{name:"Karambit | Fade",value:2045.65,rarity:"contraband"}],Z=[{name:"SG 553 | Wave Spray",value:8,rarity:"mil-spec"},{name:"G3SG1 | Demeter",value:10.43,rarity:"mil-spec"},{name:"Dual Berettas | Black Limba",value:15.08,rarity:"mil-spec"},{name:"UMP-45 | Bone Pile",value:7.56,rarity:"mil-spec"},{name:"Galil AR | Shattered",value:23.25,rarity:"mil-spec"},{name:"Nova | Tempest",value:8.32,rarity:"mil-spec"},{name:"M4A1-S | Bright Water",value:45,rarity:"restricted"},{name:"MAC-10 | Graven",value:39.12,rarity:"restricted"},{name:"USP-S | Overgrwoth",value:63,rarity:"restricted"},{name:"M4A4 | Zirka",value:60,rarity:"restricted"},{name:"P90 | Emerald Dragon",value:240,rarity:"classified"},{name:"P200 | Ocean Foam",value:132.12,rarity:"classified"},{name:"AWP | Graphite",value:200.07,rarity:"classified"},{name:"AK-47 | Fire Serpent",value:3154.32,rarity:"covert"},{name:"Desert Eagle | Golden Koi",value:283.07,rarity:"covert"},{name:"Karambit | Fade",value:2045.65,rarity:"contraband"}],J={"CS:GO Weapon Case":j,"eSports 2013 Winter Case":z,"Operation Bravo Case":Z};async function M(a){if(o=!1,p[a]){v=parseFloat(p[a]),C.innerText="Market price: £"+String(v),o=!0;return}C.innerText="Market price: Loading...";var n=a.split(" "),r="";for(let t of n)r+=t+"%20";const e=await(await fetch(`https://api.flik.host/steam_market.php?item=${r}`)).json();if(!e||e.ok){console.log(e);return}v=e.sell_req,p[a]=String(v),C.innerText="Market price: £"+String(v),o=!0}async function k(a){if(o=!1,p[a]){y=parseFloat(p[a]),B.innerText="Market price: £"+String(y),o=!0;return}B.innerText="Market price: Loading...";var n=a.split(" "),r="";for(let t of n)r+=t+"%20";const e=await(await fetch(`https://api.flik.host/steam_market.php?item=${r}`)).json();if(!e||e.ok){console.log(e);return}y=e.sell_req,p[a]=String(y),B.innerText="Market price: £"+String(y),o=!0}function F(a=T){const n=Array.isArray(a)?a:Object.keys(a).map(t=>{const c=a[t];return typeof c=="number"?{name:t,value:c,rarity:"consumer"}:{name:t,value:typeof c.value=="number"?c.value:0,rarity:c.rarity??"consumer"}}),r={consumerGroup:50,restricted:30,classified:15,covert:4.74},l=Math.random()*100;let e=[];return l<r.consumerGroup?e=n.filter(t=>t.rarity==="consumer"||t.rarity==="mil-spec"):l<r.consumerGroup+r.restricted?e=n.filter(t=>t.rarity==="restricted"):l<r.consumerGroup+r.restricted+r.classified?e=n.filter(t=>t.rarity==="classified"):l<r.consumerGroup+r.restricted+r.classified+r.covert?e=n.filter(t=>t.rarity==="covert"):e=n.filter(t=>t.rarity==="contraband"),!e||e.length===0?n[Math.floor(Math.random()*n.length)]:e[Math.floor(Math.random()*e.length)]}function V(){G.play().catch(a=>console.log("Could not play sound:",a)),g.classList.remove("hidden"),g.classList.add("absolute"),h.classList.add("hidden"),f.classList.add("hidden"),setTimeout(()=>{const a=F(_[m[i]]);d+=a.value,L.innerHTML="£"+String(d.toFixed(2)),E.innerText=a.name,x.innerText="£"+a.value.toFixed(2),h.classList.remove("hidden"),f.classList.remove("hidden")},7e3)}function $(){G.play().catch(a=>console.log("Could not play sound:",a)),g.classList.remove("hidden"),g.classList.add("absolute"),h.classList.add("hidden"),f.classList.add("hidden"),setTimeout(()=>{const a=F(J[u[s]]);d+=a.value,L.innerHTML="£"+String(d.toFixed(2)),E.innerText=a.name,x.innerText="£"+a.value.toFixed(2),h.classList.remove("hidden"),f.classList.remove("hidden")},7e3)}D.addEventListener("click",async()=>{o&&(i+=1,i>m.length-1&&(i=0),w.src=H[m[i]],A.innerText=m[i],await M(m[i]))});W.addEventListener("click",async()=>{o&&(i-=1,i<=-1&&(i=m.length-1),w.src=H[m[i]],A.innerText=m[i],await M(m[i]))});K.addEventListener("click",()=>{o&&(S+=v,d-=v,I.innerHTML="£"+String(S.toFixed(2)),L.innerHTML="£"+String(d.toFixed(2)),V())});R.addEventListener("click",async()=>{o&&(s+=1,s>u.length-1&&(s=0),P.src=O[u[s]],b.innerText=u[s],await k(u[s]))});N.addEventListener("click",async()=>{o&&(s-=1,s<=-1&&(s=u.length-1),P.src=O[u[s]],b.innerText=u[s],await k(u[s]))});U.addEventListener("click",()=>{o&&(S+=y,d-=y,I.innerHTML="£"+String(S.toFixed(2)),L.innerHTML="£"+String(d.toFixed(2)),$())});f.addEventListener("click",()=>{g.classList.add("hidden"),g.classList.remove("absolute")});document.addEventListener("DOMContentLoaded",async()=>{await M("Kilowatt Case"),await k("CS:GO Weapon Case 2")});
