(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const a of e)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function r(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?a.credentials="include":e.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(e){if(e.ep)return;e.ep=!0;const a=r(e);fetch(e.href,a)}})();const ae=document.getElementById("prevButton"),re=document.getElementById("nextButton"),b=document.getElementById("marketPrice"),K=document.getElementById("caseImage"),N=document.getElementById("caseName"),ne=document.getElementById("buyButton"),ie=document.getElementById("prevButtonHigh"),se=document.getElementById("nextButtonHigh"),E=document.getElementById("marketPriceHigh"),R=document.getElementById("caseImageHigh"),U=document.getElementById("caseNameHigh"),oe=document.getElementById("buyButtonHigh"),$=document.getElementById("spent-amount"),P=document.getElementById("net-gain-amount"),w=document.getElementById("open-screen"),I=document.getElementById("revealed-item"),M=document.getElementById("close-opening"),_=document.getElementById("item-name"),j=document.getElementById("item-value"),C=new Audio("/assets/open.mp3"),B=document.getElementById("weapon-wheel"),G=document.getElementById("wheel-items");let g=0,h=0,y=!1,k=0,f=0,s=0,o=0,S={};const v=["Kilowatt Case","Revolution Case","Fracture Case"],z={"Kilowatt Case":"/assets/cases/kilowatt.png","Revolution Case":"/assets/cases/revolution.png","Fracture Case":"/assets/cases/fracture.png"},p=["Operation Bravo Case","CS:GO Weapon Case","CS:GO Weapon Case 2","eSports 2013 Winter Case","eSports 2014 Summer Case"],q={"Operation Bravo Case":"/assets/cases/operation bravo.png","CS:GO Weapon Case":"/assets/cases/weapon.png","CS:GO Weapon Case 2":"/assets/cases/weapon2.png","eSports 2013 Winter Case":"/assets/cases/esports 2013 winter.png","eSports 2014 Summer Case":"/assets/cases/esports 2014 summer.png"},V=[{name:"Tec-9 | Slag",value:.18,rarity:"consumer"},{name:"XM1014 | Irezumi",value:.14,rarity:"consumer"},{name:"UMP-45 | Motorized",value:.14,rarity:"consumer"},{name:"SSG 08 | Dezastre",value:.15,rarity:"consumer"},{name:"Nova | Dark Sigil",value:.13,rarity:"consumer"},{name:"Dual Berettas | Hideout",value:.14,rarity:"consumer"},{name:"MAC-10 | Light Box",value:.23,rarity:"consumer"},{name:"MP7 | Just Smile",value:1.25,rarity:"mil-spec"},{name:"Five-SeveN | Hybrid",value:1.57,rarity:"mil-spec"},{name:"Sawed-Off | Analog Input",value:1.04,rarity:"mil-spec"},{name:"M4A4 | Etch lord",value:3.24,rarity:"restricted"},{name:"Glock-18 | Block-18",value:1.14,rarity:"mil-spec"},{name:"Zeus x27 | Olympus",value:8.21,rarity:"classified"},{name:"USP-S | Jawbreaker",value:13.15,rarity:"classified"},{name:"M4A1-S | Black Lotus",value:16.8,rarity:"classified"},{name:"AWP | Chrome Cannon",value:56.1,rarity:"covert"},{name:"AK-47 | Inheritance",value:181.13,rarity:"covert"},{name:"Kukri Knife | Fade",value:412.53,rarity:"contraband"}],le=[{name:"P250 | Re.built",value:.14,rarity:"mil-spec"},{name:"Tec-9 | Rebel",value:.14,rarity:"mil-spec"},{name:"MAG-7 | Insomnia",value:.15,rarity:"mil-spec"},{name:"SCAR-20 | Fragments",value:.14,rarity:"mil-spec"},{name:"MP5-SD | Liquidation",value:.16,rarity:"mil-spec"},{name:"MP9 | Featherweight",value:.14,rarity:"mil-spec"},{name:"SG 553 | Cyberforce",value:.15,rarity:"mil-spec"},{name:"R8 Revolver | Banana Cannon",value:.93,rarity:"restricted"},{name:"P90 | Neoqueen",value:.8,rarity:"restricted"},{name:"MAC-10 | Sakkaku",value:.22,rarity:"restricted"},{name:"Glock-18 | Umbral Rabbit",value:1.12,rarity:"restricted"},{name:"M4A1-S | Empthorosaur-S",value:4.35,rarity:"restricted"},{name:"P2000 | Wicked Sick",value:6.69,rarity:"classified"},{name:"UMP-45 | Wild Child",value:6.67,rarity:"classified"},{name:"AWP | Duality",value:9.18,rarity:"classified"},{name:"AK-47 | Headshot",value:51.53,rarity:"covert"},{name:"M4A1 | Temukau",value:63.04,rarity:"covert"},{name:"Glove | Vice",value:12521.42,rarity:"contraband"}],ce=[{name:"P90 | Freight",value:.14,rarity:"mil-spec"},{name:"Negev | Ultralight",value:.13,rarity:"mil-spec"},{name:"PP-Bizon | Runic",value:.15,rarity:"mil-spec"},{name:"P2000 | Gnarled",value:.17,rarity:"mil-spec"},{name:"SG 553 | Ol' Rusty",value:.12,rarity:"mil-spec"},{name:"SSG 08 | Mainframe 001",value:.15,rarity:"mil-spec"},{name:"P250 | Cassette",value:.15,rarity:"mil-spec"},{name:"MAC-10 | Allure",value:1.4,rarity:"restricted"},{name:"Tec-9 | Brother",value:2.1,rarity:"restricted"},{name:"MAG-7 | Monster Call",value:2.03,rarity:"restricted"},{name:"MP5-SD | Kitbash",value:.99,rarity:"restricted"},{name:"Galil AR | Connexion",value:1.45,rarity:"restricted"},{name:"XM1014 | Entombed",value:6.12,rarity:"classified"},{name:"M4A4 | Tooth Fairy",value:16,rarity:"classified"},{name:"Glock-18 | Vouge",value:8.32,rarity:"classified"},{name:"AK-47 | Legion of Anubis",value:35.23,rarity:"covert"},{name:"Desert Eagle | Printstream",value:75.43,rarity:"covert"},{name:"Skeleton Knife | Fade",value:1278.94,rarity:"contrband"}],x={"Kilowatt Case":V,"Revolution Case":le,"Fracture Case":ce},W=[{name:"MP7 | Skulls",value:15.08,rarity:"mil-spec"},{name:"SG 553 | Ultraviolet",value:34.45,rarity:"mil-spec"},{name:"AUG | Wings",value:13.54,rarity:"mil-spec"},{name:"Glock-18 | Dragon Tattoo",value:120,rarity:"restricted"},{name:"M4A1-S | Dark Water - m4a1-s",value:90,rarity:"restricted"},{name:"USP-S | Dark Water - usp-s",value:61.4,rarity:"restricted"},{name:"Desert Eagle | Hypnotic",value:98.24,rarity:"classified"},{name:"AK-47 | Case Hardened",value:370.99,rarity:"classified"},{name:"AWP | Lightning Strike",value:543.54,rarity:"covert"},{name:"Karambit | Fade",value:2045.65,rarity:"contraband"}],F=[{name:"MAG-7 | Memento",value:2.12,rarity:"mil-spec"},{name:"FAMAS | Dookitty",value:1.54,rarity:"mil-spec"},{name:"M4A4 | Faded Zebra",value:11.07,rarity:"mil-spec"},{name:"Sawed-Off | Orange DDPAT",value:32.54,rarity:"restricted"},{name:"P250 | Splash",value:22,rarity:"restricted"},{name:"Galil AR | Orange DDPAT",value:25.05,rarity:"restricted"},{name:"AK-47 | Red Laminate",value:325.14,rarity:"classified"},{name:"AWP | BOOM",value:350.45,rarity:"classified"},{name:"P90 | Death by Kitty",value:42.44,rarity:"covert"},{name:"Karambit | Fade",value:2045.65,rarity:"contraband"}],me=[{name:"SG 553 | Wave Spray",value:8,rarity:"mil-spec"},{name:"G3SG1 | Demeter",value:10.43,rarity:"mil-spec"},{name:"Dual Berettas | Black Limba",value:15.08,rarity:"mil-spec"},{name:"UMP-45 | Bone Pile",value:7.56,rarity:"mil-spec"},{name:"Galil AR | Shattered",value:23.25,rarity:"mil-spec"},{name:"Nova | Tempest",value:8.32,rarity:"mil-spec"},{name:"M4A1-S | Bright Water",value:45,rarity:"restricted"},{name:"MAC-10 | Graven",value:39.12,rarity:"restricted"},{name:"USP-S | Overgrowth",value:63,rarity:"restricted"},{name:"M4A4 | Zirka",value:60,rarity:"restricted"},{name:"P90 | Emerald Dragon",value:240,rarity:"classified"},{name:"P200 | Ocean Foam",value:132.12,rarity:"classified"},{name:"AWP | Graphite",value:200.07,rarity:"classified"},{name:"AK-47 | Fire Serpent",value:3154.32,rarity:"covert"},{name:"Desert Eagle | Golden Koi",value:283.07,rarity:"covert"},{name:"Karambit | Fade",value:2045.65,rarity:"contraband"}],D={"CS:GO Weapon Case":W,"eSports 2013 Winter Case":F,"Operation Bravo Case":me,"CS:GO Weapon Case 2":W,"eSports 2014 Summer Case":F};async function O(t){if(y=!1,S[t]){g=parseFloat(S[t]),b.innerText="Market price: £"+String(g),y=!0;return}b.innerText="Market price: Loading...";var n=t.split(" "),r="";for(let a of n)r+=a+"%20";const e=await(await fetch(`https://api.flik.host/steam_market.php?item=${r}`)).json();!e||!e.mean_price||(g=e.mean_price,S[t]=String(g),b.innerText="Market price: £"+String(g),y=!0)}async function H(t){if(y=!1,S[t]){h=parseFloat(S[t]),E.innerText="Market price: £"+String(h),y=!0;return}E.innerText="Market price: Loading...";var n=t.split(" "),r="";for(let a of n)r+=a+"%20";console.log(t);const e=await(await fetch(`https://api.flik.host/steam_market.php?item=${r}`)).json();if(!e||!e.mean_price){console.log(e);return}h=e.mean_price,S[t]=String(h),E.innerText="Market price: £"+String(h),y=!0}function Z(t=V){const n=Array.isArray(t)?t:Object.keys(t).map(a=>{const c=t[a];return typeof c=="number"?{name:a,value:c,rarity:"consumer"}:{name:a,value:typeof c.value=="number"?c.value:0,rarity:c.rarity??"consumer"}}),r={consumerGroup:50,restricted:30,classified:15,covert:4.74},l=Math.random()*100;let e=[];return l<r.consumerGroup?e=n.filter(a=>a.rarity==="consumer"||a.rarity==="mil-spec"):l<r.consumerGroup+r.restricted?e=n.filter(a=>a.rarity==="restricted"):l<r.consumerGroup+r.restricted+r.classified?e=n.filter(a=>a.rarity==="classified"):l<r.consumerGroup+r.restricted+r.classified+r.covert?e=n.filter(a=>a.rarity==="covert"):e=n.filter(a=>a.rarity==="contraband"),!e||e.length===0?n[Math.floor(Math.random()*n.length)]:e[Math.floor(Math.random()*e.length)]}function J(t,n,r=!1){G.innerHTML="";const l={consumer:500,"mil-spec":500,restricted:100,classified:30,covert:8,contraband:1},e=m=>{const u=[];return m.forEach(i=>{const A=l[i.rarity]||1;for(let d=0;d<A;d++)u.push(i)}),u},a=(m,u)=>{if(u==="contraband")return"/assets/gold.png";let i="";if(r){const d=p[o];d==="Operation Bravo Case"?i="operation bravo":d==="CS:GO Weapon Case"?i="weapon case 1":d==="CS:GO Weapon Case 2"||d==="eSports 2013 Winter Case"?i="kilowatt":d==="eSports 2014 Summer Case"?i="revolution":i="kilowatt"}else{const d=v[s];d==="Kilowatt Case"?i="kilowatt":d==="Revolution Case"?i="revolution":d==="Fracture Case"?i="fracture":i="kilowatt"}const A=m.split(" | ")[1]?.toLowerCase().replace(/\s+/g," ")||"slag";return`/assets/${i}/${A}.png`},c=e(t),L=[];for(let m=0;m<200;m++){const u=c[Math.floor(Math.random()*c.length)];L.push(u)}L.push(n);const Y=L.length-1;for(let m=0;m<20;m++){const u=c[Math.floor(Math.random()*c.length)];L.push(u)}L.forEach(m=>{const u=document.createElement("div");u.className=`wheel-item rarity-${m.rarity}`;const i=a(m.name,m.rarity);u.innerHTML=`
      <img src="${i}" alt="${m.name}" class="w-16 h-16 object-contain" onerror="this.style.display='none'">
    `,G.appendChild(u)});const T=84,ee=B.offsetWidth/2,te=-(Y*T)+ee-T/2;document.documentElement.style.setProperty("--final-position",`${te}px`)}function X(t,n=!1){let r="";const l=v[s],e=p[o];n?e==="Operation Bravo Case"?r="operation bravo":e==="CS:GO Weapon Case"?r="weapon case 1":e==="CS:GO Weapon Case 2"?r="weapon case 2":e==="eSports 2013 Winter Case"?r="esports 2013 winter":e==="eSports 2014 Summer Case"&&(r="esports 2014 summer"):l==="Kilowatt Case"?r="kilowatt":l==="Revolution Case"?r="revolution":l==="Fracture Case"?r="fracture":r="kilowatt";const a=t.split(" | ")[1]?.toLowerCase().replace(/\s+/g," ")||"slag";return`/assets/${r}/${a}.png`}function Q(){B.classList.add("wheel-spinning")}function ue(){C.pause(),C.currentTime=0,C.play(),w.classList.remove("hidden"),w.classList.add("absolute"),I.classList.add("hidden"),M.classList.add("hidden"),B.classList.remove("wheel-spinning");const t=Z(x[v[s]]);J(x[v[s]],t,!1),setTimeout(()=>{Q()},500),setTimeout(()=>{f+=t.value,P.innerHTML="£"+String(f.toFixed(2)),_.innerText=t.name,j.innerText="£"+t.value.toFixed(2);const n=document.getElementById("item-image");n&&(n.src=X(t.name),n.alt=t.name),I.classList.remove("hidden"),M.classList.remove("hidden")},6500)}function de(){C.pause(),C.currentTime=0,C.play(),w.classList.remove("hidden"),w.classList.add("absolute"),I.classList.add("hidden"),M.classList.add("hidden"),B.classList.remove("wheel-spinning");const t=Z(D[p[o]]);J(D[p[o]],t,!0),setTimeout(()=>{Q()},500),setTimeout(()=>{f+=t.value,P.innerHTML="£"+String(f.toFixed(2)),_.innerText=t.name,j.innerText="£"+t.value.toFixed(2);const n=document.getElementById("item-image");n&&(n.src=X(t.name),n.alt=t.name),I.classList.remove("hidden"),M.classList.remove("hidden")},6500)}re.addEventListener("click",async()=>{y&&(s+=1,s>v.length-1&&(s=0),K.src=z[v[s]],N.innerText=v[s],await O(v[s]))});ae.addEventListener("click",async()=>{y&&(s-=1,s<=-1&&(s=v.length-1),K.src=z[v[s]],N.innerText=v[s],await O(v[s]))});ne.addEventListener("click",()=>{y&&(k+=g,f-=g,$.innerHTML="£"+String(k.toFixed(2)),P.innerHTML="£"+String(f.toFixed(2)),ue())});se.addEventListener("click",async()=>{y&&(o+=1,o>p.length-1&&(o=0),R.src=q[p[o]],U.innerText=p[o],await H(p[o]))});ie.addEventListener("click",async()=>{y&&(o-=1,o<=-1&&(o=p.length-1),R.src=q[p[o]],U.innerText=p[o],await H(p[o]))});oe.addEventListener("click",()=>{y&&(k+=h,f-=h,$.innerHTML="£"+String(k.toFixed(2)),P.innerHTML="£"+String(f.toFixed(2)),de())});M.addEventListener("click",()=>{w.classList.add("hidden"),w.classList.remove("absolute"),B.classList.remove("wheel-spinning"),G.innerHTML=""});document.addEventListener("DOMContentLoaded",async()=>{await O("Kilowatt Case"),await H("Operation Bravo Case")});
