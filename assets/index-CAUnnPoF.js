(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))d(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const f of t.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&d(f)}).observe(document,{childList:!0,subtree:!0});function c(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function d(e){if(e.ep)return;e.ep=!0;const t=c(e);fetch(e.href,t)}})();const B=document.getElementById("prevButton"),L=document.getElementById("nextButton"),m=document.getElementById("marketPrice"),y=document.getElementById("caseImage"),h=document.getElementById("caseName"),E=document.getElementById("buyButton"),w=document.getElementById("spent-amount"),x=document.getElementById("net-gain-amount");let o=0,a=!1,g=0,p=0,n=0,l={};const r=["Kilowatt Case","Revolution Case","Fracture Case","Operation Bravo Case"],v={"Kilowatt Case":"/assets/kilowatt.png","Revolution Case":"/assets/revolution.png","Fracture Case":"/assets/fracture.png","Operation Bravo Case":"/assets/operation bravo.png"};async function u(s){if(a=!1,l[s]){console.log(l[s]),o=parseFloat(l[s]),m.innerText="Market price: £"+String(o),a=!0;return}m.innerText="Market price: Loading...";var i=s.split(" "),c="";for(let t of i)c+=t+"%20";console.log(c);const e=await(await fetch(`https://api.flik.host/steam_market.php?item=${c}`)).json();if(!e||e.ok){console.log(e);return}o=e.sell_req,l[s]=String(o),m.innerText="Market price: £"+String(o),a=!0}L.addEventListener("click",async()=>{a&&(n+=1,n>r.length-1&&(n=0),y.src=v[r[n]],h.innerText=r[n],await u(r[n]))});B.addEventListener("click",async()=>{a&&(n-=1,n<=-1&&(n=r.length-1),y.src=v[r[n]],h.innerText=r[n],await u(r[n]))});E.addEventListener("click",()=>{a&&(g-=o,p-=o,w.innerHTML="£"+String(g.toFixed(2)),x.innerHTML="£"+String(p.toFixed(2)))});document.addEventListener("DOMContentLoaded",async()=>{await u("Kilowatt Case")});window.fetchPrice=u;
