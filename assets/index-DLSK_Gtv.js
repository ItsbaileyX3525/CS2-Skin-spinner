(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const a of e)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function r(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?a.credentials="include":e.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(e){if(e.ep)return;e.ep=!0;const a=r(e);fetch(e.href,a)}})();const te=document.getElementById("prevButton"),ae=document.getElementById("nextButton"),k=document.getElementById("marketPrice"),D=document.getElementById("caseImage"),K=document.getElementById("caseName"),re=document.getElementById("buyButton"),ne=document.getElementById("prevButtonHigh"),ie=document.getElementById("nextButtonHigh"),G=document.getElementById("marketPriceHigh"),R=document.getElementById("caseImageHigh"),N=document.getElementById("caseNameHigh"),se=document.getElementById("buyButtonHigh"),U=document.getElementById("spent-amount"),I=document.getElementById("net-gain-amount"),w=document.getElementById("open-screen"),B=document.getElementById("revealed-item"),M=document.getElementById("close-opening"),$=document.getElementById("item-name"),_=document.getElementById("item-value"),S=new Audio("/assets/open.mp3"),A=document.getElementById("weapon-wheel"),E=document.getElementById("wheel-items");let g=0,h=0,y=!1,P=0,f=0,s=0,o=0,C={};const v=["Kilowatt Case","Revolution Case","Fracture Case"],j={"Kilowatt Case":"/assets/cases/kilowatt.png","Revolution Case":"/assets/cases/revolution.png","Fracture Case":"/assets/cases/fracture.png"},p=["Operation Bravo Case","CS:GO Weapon Case","CS:GO Weapon Case 2","eSports 2013 Case","eSports 2013 Winter Case","eSports 2014 Summer Case"],z={"Operation Bravo Case":"/assets/cases/operation bravo.png","CS:GO Weapon Case":"/assets/cases/weapon.png","CS:GO Weapon Case 2":"/assets/cases/weapon2.png","eSports 2013 Case":"/assets/cases/esports 2013.png","eSports 2013 Winter Case":"/assets/cases/esports 2013 winter.png","eSports 2014 Summer Case":"/assets/cases/esports 2014 summer.png"},Z=[{name:"Tec-9 | Slag",value:.18,rarity:"consumer"},{name:"XM1014 | Irezumi",value:.14,rarity:"consumer"},{name:"UMP-45 | Motorized",value:.14,rarity:"consumer"},{name:"SSG 08 | Dezastre",value:.15,rarity:"consumer"},{name:"Nova | Dark Sigil",value:.13,rarity:"consumer"},{name:"Dual Berettas | Hideout",value:.14,rarity:"consumer"},{name:"MAC-10 | Light Box",value:.23,rarity:"consumer"},{name:"MP7 | Just Smile",value:1.25,rarity:"mil-spec"},{name:"Five-SeveN | Hybrid",value:1.57,rarity:"mil-spec"},{name:"Sawed-Off | Analog Input",value:1.04,rarity:"mil-spec"},{name:"M4A4 | Etch lord",value:3.24,rarity:"restricted"},{name:"Glock-18 | Block-18",value:1.14,rarity:"mil-spec"},{name:"Zeus x27 | Olympus",value:8.21,rarity:"classified"},{name:"USP-S | Jawbreaker",value:13.15,rarity:"classified"},{name:"M4A1-S | Black Lotus",value:16.8,rarity:"classified"},{name:"AWP | Chrome Cannon",value:56.1,rarity:"covert"},{name:"AK-47 | Inheritance",value:181.13,rarity:"covert"},{name:"Kukri Knife | Fade",value:412.53,rarity:"contraband"}],oe=[{name:"P250 | Re.built",value:.14,rarity:"mil-spec"},{name:"Tec-9 | Rebel",value:.14,rarity:"mil-spec"},{name:"MAG-7 | Insomnia",value:.15,rarity:"mil-spec"},{name:"SCAR-20 | Fragments",value:.14,rarity:"mil-spec"},{name:"MP5-SD | Liquidation",value:.16,rarity:"mil-spec"},{name:"MP9 | Featherweight",value:.14,rarity:"mil-spec"},{name:"SG 553 | Cyberforce",value:.15,rarity:"mil-spec"},{name:"R8 Revolver | Banana Cannon",value:.93,rarity:"restricted"},{name:"P90 | Neoqueen",value:.8,rarity:"restricted"},{name:"MAC-10 | Sakkaku",value:.22,rarity:"restricted"},{name:"Glock-18 | Umbral Rabbit",value:1.12,rarity:"restricted"},{name:"M4A1-S | Empthorosaur-S",value:4.35,rarity:"restricted"},{name:"P2000 | Wicked Sick",value:6.69,rarity:"classified"},{name:"UMP-45 | Wild Child",value:6.67,rarity:"classified"},{name:"AWP | Duality",value:9.18,rarity:"classified"},{name:"AK-47 | Headshot",value:51.53,rarity:"covert"},{name:"M4A1 | Temukau",value:63.04,rarity:"covert"},{name:"Glove | Vice",value:12521.42,rarity:"contraband"}],le=[{name:"P90 | Freight",value:.14,rarity:"mil-spec"},{name:"Negev | Ultralight",value:.13,rarity:"mil-spec"},{name:"PP-Bizon | Runic",value:.15,rarity:"mil-spec"},{name:"P2000 | Gnarled",value:.17,rarity:"mil-spec"},{name:"SG 553 | Ol' Rusty",value:.12,rarity:"mil-spec"},{name:"SSG 08 | Mainframe 001",value:.15,rarity:"mil-spec"},{name:"P250 | Cassette",value:.15,rarity:"mil-spec"},{name:"MAC-10 | Allure",value:1.4,rarity:"restricted"},{name:"Tec-9 | Brother",value:2.1,rarity:"restricted"},{name:"MAG-7 | Monster Call",value:2.03,rarity:"restricted"},{name:"MP5-SD | Kitbash",value:.99,rarity:"restricted"},{name:"Galil AR | Connexion",value:1.45,rarity:"restricted"},{name:"XM1014 | Entombed",value:6.12,rarity:"classified"},{name:"M4A4 | Tooth Fairy",value:16,rarity:"classified"},{name:"Glock-18 | Vouge",value:8.32,rarity:"classified"},{name:"AK-47 | Legion of Anubis",value:35.23,rarity:"covert"},{name:"Desert Eagle | Printstream",value:75.43,rarity:"covert"},{name:"Skeleton Knife | Fade",value:1278.94,rarity:"contrband"}],W={"Kilowatt Case":Z,"Revolution Case":oe,"Fracture Case":le},ce=[{name:"MP7 | Skulls",value:15.08,rarity:"mil-spec"},{name:"SG 553 | Ultraviolet",value:34.45,rarity:"mil-spec"},{name:"AUG | Wings",value:13.54,rarity:"mil-spec"},{name:"Glock-18 | Dragon Tattoo",value:120,rarity:"restricted"},{name:"M4A1-S | Dark Water - M4A1-S",value:90,rarity:"restricted"},{name:"USP-S | Dark Water - USP-S",value:61.4,rarity:"restricted"},{name:"Desert Eagle | Hypnotic",value:98.24,rarity:"classified"},{name:"AK-47 | Case Hardened",value:370.99,rarity:"classified"},{name:"AWP | Lightning Strike",value:543.54,rarity:"covert"},{name:"Karambit | Fade",value:3890.65,rarity:"contraband"}],me=[{name:"SCAR-20 | Crimson Web",value:8.45,rarity:"mil-spec"},{name:"P250 | Hive",value:2.44,rarity:"mil-spec"},{name:"FMAS | Hexane",value:2.54,rarity:"mil-spec"},{name:"Tec-9 | Blue Titanium",value:6.5,rarity:"mil-spec"},{name:"M4A1-S | Blood Tiger",value:8.07,rarity:"mil-spec"},{name:"Nova | Graphite",value:12.13,rarity:"restricted"},{name:"Dual Berettas | Hemoglobin",value:12.24,rarity:"restricted"},{name:"MP9 | Hypnotic",value:12.41,rarity:"restricted"},{name:"Five-SeveN | Case Hardened",value:15.23,rarity:"restricted"},{name:"P90 | Cold Blooded",value:49.59,rarity:"classified"},{name:"USP-S | Serum",value:54.09,rarity:"classified"},{name:"SSG 08 | Blood in the Water",value:94.17,rarity:"covert"},{name:"Karambit | Fade",value:3890.65,rarity:"contraband"}],F=[{name:"MAG-7 | Memento",value:2.12,rarity:"mil-spec"},{name:"FAMAS | Doomkitty",value:1.54,rarity:"mil-spec"},{name:"M4A4 | Faded Zebra",value:11.07,rarity:"mil-spec"},{name:"Sawed-Off | Orange DDPAT - Sawed-Off",value:32.54,rarity:"restricted"},{name:"P250 | Splash",value:22,rarity:"restricted"},{name:"Galil AR | Orange DDPAT - Galil AR",value:25.05,rarity:"restricted"},{name:"AK-47 | Red Laminate",value:325.14,rarity:"classified"},{name:"AWP | BOOM",value:350.45,rarity:"classified"},{name:"P90 | Death by Kitty",value:42.44,rarity:"covert"},{name:"Karambit | Fade",value:3890.65,rarity:"contraband"}],ue=[{name:"MAG-7 | Memento",value:2.12,rarity:"mil-spec"},{name:"FAMAS | Dookitty",value:1.54,rarity:"mil-spec"},{name:"M4A4 | Faded Zebra",value:11.07,rarity:"mil-spec"},{name:"Sawed-Off | Orange DDPAT",value:32.54,rarity:"restricted"},{name:"P250 | Splash",value:22,rarity:"restricted"},{name:"Galil AR | Orange DDPAT",value:25.05,rarity:"restricted"},{name:"AK-47 | Red Laminate",value:325.14,rarity:"classified"},{name:"AWP | BOOM",value:350.45,rarity:"classified"},{name:"P90 | Death by Kitty",value:42.44,rarity:"covert"},{name:"Karambit | Fade",value:3890.65,rarity:"contraband"}],de=[{name:"SG 553 | Wave Spray",value:8,rarity:"mil-spec"},{name:"G3SG1 | Demeter",value:10.43,rarity:"mil-spec"},{name:"Dual Berettas | Black Limba",value:15.08,rarity:"mil-spec"},{name:"UMP-45 | Bone Pile",value:7.56,rarity:"mil-spec"},{name:"Galil AR | Shattered",value:23.25,rarity:"mil-spec"},{name:"Nova | Tempest",value:8.32,rarity:"mil-spec"},{name:"M4A1-S | Bright Water",value:45,rarity:"restricted"},{name:"MAC-10 | Graven",value:39.12,rarity:"restricted"},{name:"USP-S | Overgrowth",value:63,rarity:"restricted"},{name:"M4A4 | Zirka",value:60,rarity:"restricted"},{name:"P90 | Emerald Dragon",value:240,rarity:"classified"},{name:"P200 | Ocean Foam",value:132.12,rarity:"classified"},{name:"AWP | Graphite",value:200.07,rarity:"classified"},{name:"AK-47 | Fire Serpent",value:3154.32,rarity:"covert"},{name:"Desert Eagle | Golden Koi",value:283.07,rarity:"covert"},{name:"Karambit | Fade",value:3890.65,rarity:"contraband"}],x={"CS:GO Weapon Case":ce,"eSports 2013 Case":F,"eSports 2013 Winter Case":ue,"Operation Bravo Case":de,"CS:GO Weapon Case 2":me,"eSports 2014 Summer Case":F};async function O(t){if(y=!1,C[t]){g=parseFloat(C[t]),k.innerText="Market price: £"+String(g),y=!0;return}k.innerText="Market price: Loading...";var n=t.split(" "),r="";for(let a of n)r+=a+"%20";const e=await(await fetch(`https://api.flik.host/steam_market.php?item=${r}`)).json();!e||!e.mean_price||(g=e.mean_price,C[t]=String(g),k.innerText="Market price: £"+String(g),y=!0)}async function T(t){if(y=!1,C[t]){h=parseFloat(C[t]),G.innerText="Market price: £"+String(h),y=!0;return}G.innerText="Market price: Loading...";var n=t.split(" "),r="";for(let a of n)r+=a+"%20";console.log(t);const e=await(await fetch(`https://api.flik.host/steam_market.php?item=${r}`)).json();if(!e||!e.mean_price){console.log(e);return}h=e.mean_price,C[t]=String(h),G.innerText="Market price: £"+String(h),y=!0}function q(t=Z){const n=Array.isArray(t)?t:Object.keys(t).map(a=>{const c=t[a];return typeof c=="number"?{name:a,value:c,rarity:"consumer"}:{name:a,value:typeof c.value=="number"?c.value:0,rarity:c.rarity??"consumer"}}),r={consumerGroup:50,restricted:30,classified:15,covert:4.74},l=Math.random()*100;let e=[];return l<r.consumerGroup?e=n.filter(a=>a.rarity==="consumer"||a.rarity==="mil-spec"):l<r.consumerGroup+r.restricted?e=n.filter(a=>a.rarity==="restricted"):l<r.consumerGroup+r.restricted+r.classified?e=n.filter(a=>a.rarity==="classified"):l<r.consumerGroup+r.restricted+r.classified+r.covert?e=n.filter(a=>a.rarity==="covert"):e=n.filter(a=>a.rarity==="contraband"),!e||e.length===0?n[Math.floor(Math.random()*n.length)]:e[Math.floor(Math.random()*e.length)]}function V(t,n,r=!1){E.innerHTML="";const l={consumer:500,"mil-spec":500,restricted:100,classified:30,covert:8,contraband:1},e=m=>{const d=[];return m.forEach(i=>{const b=l[i.rarity]||1;for(let u=0;u<b;u++)d.push(i)}),d},a=(m,d)=>{if(d==="contraband")return"/assets/gold.png";let i="";if(r){const u=p[o];console.log(u),u==="Operation Bravo Case"?i="operation bravo":u==="CS:GO Weapon Case"?i="weapon case 1":u==="CS:GO Weapon Case 2"?i="weapon case 2":u==="eSports 2013 Case"?i="esports 2013":u==="eSports 2013 Winter Case"?i="esports 2013 winter":u==="eSports 2014 Summer Case"?i="esports 2014 summer":i="kilowatt"}else{const u=v[s];u==="Kilowatt Case"?i="kilowatt":u==="Revolution Case"?i="revolution":u==="Fracture Case"?i="fracture":i="kilowatt"}const b=m.split(" | ")[1]?.toLowerCase().replace(/\s+/g," ")||"slag";return`/assets/${i}/${b}.png`},c=e(t),L=[];for(let m=0;m<200;m++){const d=c[Math.floor(Math.random()*c.length)];L.push(d)}L.push(n);const Q=L.length-1;for(let m=0;m<20;m++){const d=c[Math.floor(Math.random()*c.length)];L.push(d)}L.forEach(m=>{const d=document.createElement("div");d.className=`wheel-item rarity-${m.rarity}`;const i=a(m.name,m.rarity);d.innerHTML=`
      <img src="${i}" alt="${m.name}" class="w-16 h-16 object-contain" onerror="this.style.display='none'">
    `,E.appendChild(d)});const H=84,Y=A.offsetWidth/2,ee=-(Q*H)+Y-H/2;document.documentElement.style.setProperty("--final-position",`${ee}px`)}function J(t,n=!1){let r="";const l=v[s],e=p[o];console.log(n),console.log(e),n?e==="Operation Bravo Case"?r="operation bravo":e==="CS:GO Weapon Case"?r="weapon case 1":e==="CS:GO Weapon Case 2"?r="weapon case 2":e==="eSports 2013 Case"?r="esports 2013":e==="eSports 2013 Winter Case"?r="esports 2013 winter":e==="eSports 2014 Summer Case"&&(r="esports 2014 summer"):l==="Kilowatt Case"?r="kilowatt":l==="Revolution Case"?r="revolution":l==="Fracture Case"?r="fracture":r="kilowatt";const a=t.split(" | ")[1]?.toLowerCase().replace(/\s+/g," ")||"slag";return`/assets/${r}/${a}.png`}function X(){A.classList.add("wheel-spinning")}function ve(){S.pause(),S.currentTime=0,S.play(),w.classList.remove("hidden"),w.classList.add("absolute"),B.classList.add("hidden"),M.classList.add("hidden"),A.classList.remove("wheel-spinning");const t=q(W[v[s]]);V(W[v[s]],t,!1),setTimeout(()=>{X()},500),setTimeout(()=>{f+=t.value,I.innerHTML="£"+String(f.toFixed(2)),$.innerText=t.name,_.innerText="£"+t.value.toFixed(2);const n=document.getElementById("item-image");n&&(n.src=J(t.name,!1),n.alt=t.name),B.classList.remove("hidden"),M.classList.remove("hidden")},6500)}function pe(){S.pause(),S.currentTime=0,S.play(),w.classList.remove("hidden"),w.classList.add("absolute"),B.classList.add("hidden"),M.classList.add("hidden"),A.classList.remove("wheel-spinning");const t=q(x[p[o]]);V(x[p[o]],t,!0),setTimeout(()=>{X()},500),setTimeout(()=>{f+=t.value,I.innerHTML="£"+String(f.toFixed(2)),$.innerText=t.name,_.innerText="£"+t.value.toFixed(2);const n=document.getElementById("item-image");n&&(n.src=J(t.name,!0),n.alt=t.name),B.classList.remove("hidden"),M.classList.remove("hidden")},6500)}ae.addEventListener("click",async()=>{y&&(s+=1,s>v.length-1&&(s=0),D.src=j[v[s]],K.innerText=v[s],await O(v[s]))});te.addEventListener("click",async()=>{y&&(s-=1,s<=-1&&(s=v.length-1),D.src=j[v[s]],K.innerText=v[s],await O(v[s]))});re.addEventListener("click",()=>{y&&(P+=g,f-=g,U.innerHTML="£"+String(P.toFixed(2)),I.innerHTML="£"+String(f.toFixed(2)),ve())});ie.addEventListener("click",async()=>{y&&(o+=1,o>p.length-1&&(o=0),R.src=z[p[o]],N.innerText=p[o],await T(p[o]))});ne.addEventListener("click",async()=>{y&&(o-=1,o<=-1&&(o=p.length-1),R.src=z[p[o]],N.innerText=p[o],await T(p[o]))});se.addEventListener("click",()=>{y&&(P+=h,f-=h,U.innerHTML="£"+String(P.toFixed(2)),I.innerHTML="£"+String(f.toFixed(2)),pe())});M.addEventListener("click",()=>{w.classList.add("hidden"),w.classList.remove("absolute"),A.classList.remove("wheel-spinning"),E.innerHTML=""});document.addEventListener("DOMContentLoaded",async()=>{await O("Kilowatt Case"),await T("Operation Bravo Case")});
